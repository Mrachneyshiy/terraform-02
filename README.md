# Домашнее задание к занятию «Основы Terraform. Yandex Cloud»

## Задача 1
1. Инициализируйте проект, выполните код. Исправьте намеренное допущенные ошибки. Ответьте в чем заключается их суть?
2. Ответьте, как в процессе обучения могут пригодиться параметры```preemptible = true``` и ```core_fraction=5``` в параметрах ВМ? Ответ в документации Yandex cloud.
3. Скриншот ЛК Yandex Cloud с созданной ВМ.
4. Скриншот успешного подключения к консоли ВМ через ssh(к OS ubuntu необходимо подключаться под пользователем ubuntu: "ssh ubuntu@vm_ip_address"),
## Ответ:
1. В main.tf указано 1 ядро. Чтобы создать ВМ на Yandex Cloud необходимо иметь от 2 ядер.
2. Ответы
- preemptible = true создание ВМ с прерыванием. Она работает 24 часов и может быть остановлена Compute Cloud в любой момент. Может пригодиться если забыли удалить ресурсы на Yandex Cloud. Чтобы денги не тратились. 
- core_fraction указывает базовую производительность ядра в процентах. Гарантированная доля vCPU, которая будет выделена ВМ. ВМ с гарантированной долей меньше 100% обеспечивают указанный уровень производительности с вероятностью временного повышения вплоть до 100%. Эти ВМ подходят для задач, которые не требуют постоянной гарантии производительности vCPU на 100%.
3. Скриншот ЛК Yandex Cloud с созданной ВМ,
![](pic/1.png) 
4. Скриншот успешного подключения к консоли ВМ через ssh.
![](pic/2.png) 

## Задача 2
2.1. Создайте вашу первую виртуальную машину в YandexCloud с помощью web-интерфейса YandexCloud.

## Ответ:
![](pic/2.jpg) 

## Задача 3
С помощью Ansible и Docker Compose разверните на виртуальной машине из предыдущего задания систему мониторинга на основе Prometheus/Grafana. Используйте Ansible-код в директории (src/ansible).

Чтобы получить зачёт, вам нужно предоставить вывод команды "docker ps" , все контейнеры, описанные в docker-compose, должны быть в статусе "Up".

## Ответ:
![](pic/3.jpg)

## Задача 4
- Откройте веб-браузер, зайдите на страницу http://<внешний_ip_адрес_вашей_ВМ>:3000.
- Используйте для авторизации логин и пароль из .env-file.
- Изучите доступный интерфейс, найдите в интерфейсе автоматически созданные docker-compose-панели с графиками(dashboards).
- Подождите 5-10 минут, чтобы система мониторинга успела накопить данные.

## Ответ:
![](pic/4.jpg)